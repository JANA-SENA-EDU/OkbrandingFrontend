import{a as fe,b as _e,c as ge,d as Nt,e as zt,f as Ht,g as Wt,h as Bt,i as qt,j as Gt,k as Kt}from"./chunk-OE5KNDKJ.js";import{a as Et,b as Tt,c as Dt,d as Ft,e as At,f as Pt,g as Rt,h as Ut,i as Vt,j as Lt,k as jt}from"./chunk-CIVZCN4S.js";import{e as Ot,h as It,i as kt}from"./chunk-VW7NPXUO.js";import{a as ut,b as ht,c as ft,d as _t,e as gt,f as bt,g as Y,h as vt,i as Ct}from"./chunk-DHEV5CHZ.js";import{a as Z,b as St}from"./chunk-A34N6AUK.js";import{c as ce,d as de,f as K,g as tt,h as $,i as it,j as rt}from"./chunk-Q64FFBLU.js";import{B as ue,C as st,D as lt,I as ct,J as dt,K as Q,L as mt,M as pt,N as he,O as yt,P as xt,Q as wt,a as et,s as me,t as at,u as pe,v as ot,y as nt}from"./chunk-5ZSIRHXU.js";import{a as Ge,b as x,c as Ke,d as $e,e as Qe,f as Ye,i as G,j as Xe,p as Ze,r as Je}from"./chunk-YFY2E5R4.js";import{b as qe,i as Mt,j as X}from"./chunk-AK6URBU6.js";import{k as q,m as Be,q as R}from"./chunk-BZWQZBMF.js";import{$ as ke,Ab as I,B as L,C as re,Ca as Re,Cb as k,Da as z,E as we,Hb as g,I as Me,Jb as h,K as Se,Kb as Ne,L as Oe,Lb as se,Ob as W,Pb as B,Qb as E,Rb as T,Sb as ze,T as ae,Tb as s,U as oe,Ub as A,V as S,Vb as M,X as Ie,Ya as c,Za as m,Zb as He,_b as P,aa as Ee,ca as j,ea as N,fa as Te,fb as Ue,i as V,ja as y,ka as F,kb as Ve,l as U,la as De,nc as We,ob as p,pb as H,q as ye,qb as u,qc as D,rc as le,sb as Le,t as ie,ta as Fe,ua as f,ub as je,va as _,vb as ne,wa as Ae,wb as o,xb as n,y as xe,yb as w,za as Pe,zb as O}from"./chunk-P5NMP2U3.js";var hi=["trigger"],fi=["panel"],_i=[[["mat-select-trigger"]],"*"],gi=["mat-select-trigger","*"];function bi(r,l){if(r&1&&(o(0,"span",4),s(1),n()),r&2){let e=h();c(),A(e.placeholder)}}function vi(r,l){r&1&&se(0)}function Ci(r,l){if(r&1&&(o(0,"span",11),s(1),n()),r&2){let e=h(2);c(),A(e.triggerValue)}}function yi(r,l){if(r&1&&(o(0,"span",10),p(1,vi,1,0)(2,Ci,2,1),n()),r&2){let e=h();c(),ne(1,e.customTrigger?1:2)}}function xi(r,l){if(r&1){let e=k();o(0,"div",12,1),g("@transformPanel.done",function(i){f(e);let a=h();return _(a._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){f(e);let a=h();return _(a._handleKeydown(i))}),se(2,1),n()}if(r&2){let e=h();je("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),u("ngClass",e.panelClass)("@transformPanel","showing"),H("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var wi={transformPanelWrap:ce("transformPanelWrap",[$("* => void",rt("@transformPanel",[it()],{optional:!0}))]),transformPanel:ce("transformPanel",[tt("void",K({opacity:0,transform:"scale(1, 0.8)"})),$("void => showing",de("120ms cubic-bezier(0, 0, 0.2, 1)",K({opacity:1,transform:"scale(1, 1)"}))),$("* => void",de("100ms linear",K({opacity:0})))])};var Zt=0,Jt=new j("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let r=Te(fe);return()=>r.scrollStrategies.reposition()}});function Mi(r){return()=>r.scrollStrategies.reposition()}var Si=new j("MAT_SELECT_CONFIG"),Oi={provide:Jt,deps:[fe],useFactory:Mi},Ii=new j("MatSelectTrigger"),be=class{constructor(l,e){this.source=l,this.value=e}},ei=(()=>{class r{_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let i=this.panel.nativeElement,a=mt(e,this.options,this.optionGroups),d=t._getHostElement();e===0&&a===1?i.scrollTop=0:i.scrollTop=pt(d.offsetTop,d.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new be(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(x.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,t,i,a,d,b,v,ai,oi,Ce,ni,si,li,ee){this._viewportRuler=e,this._changeDetectorRef=t,this._elementRef=d,this._dir=b,this._parentFormField=oi,this.ngControl=Ce,this._liveAnnouncer=li,this._defaultOptions=ee,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(C,te)=>C===te,this._uid=`mat-select-${Zt++}`,this._triggerAriaLabelledBy=null,this._destroy=new U,this.stateChanges=new U,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${Zt++}`,this._panelDoneAnimatingStream=new U,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new U,this.optionSelectionChanges=xe(()=>{let C=this.options;return C?C.changes.pipe(ae(C),oe(()=>L(...C.map(te=>te.onSelectionChange)))):this._initialized.pipe(oe(()=>this.optionSelectionChanges))}),this.openedChange=new z,this._openedStream=this.openedChange.pipe(re(C=>C),ie(()=>{})),this._closedStream=this.openedChange.pipe(re(C=>!C),ie(()=>{})),this.selectionChange=new z,this.valueChange=new z,this._trackedModal=null,this._skipPredicate=C=>this.panelOpen?!1:C.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),ee?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=ee.typeaheadDebounceInterval),this._errorStateTracker=new st(a,Ce,ai,v,this.stateChanges),this._scrollStrategyFactory=si,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ni)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ot(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Se(),S(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(S(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(S(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(ae(null),S(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&pe(this._trackedModal,"aria-owns",t),at(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;pe(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,i=t===40||t===38||t===37||t===39,a=t===13||t===32,d=this._keyManager;if(!d.isTyping()&&a&&!me(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){let b=this.selected;d.onKeydown(e);let v=this.selected;v&&b!==v&&this._liveAnnouncer.announce(v.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,i=e.keyCode,a=i===40||i===38,d=t.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(!d&&(i===13||i===32)&&t.activeItem&&!me(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!d&&this._multiple&&i===65&&e.ctrlKey){e.preventDefault();let b=this.options.some(v=>!v.disabled&&!v.selected);this.options.forEach(v=>{v.disabled||(b?v.select():v.deselect())})}else{let b=t.activeItemIndex;t.onKeydown(e),this._multiple&&a&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==b&&t.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Me(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return i.value!=null&&this._compareWith(i.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof _e?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new ot(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=L(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(S(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),L(...this.options.map(t=>t._stateChanges)).pipe(S(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let i=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(i=>i.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(t){return new(t||r)(m(It),m(We),m(Ue),m(lt),m(Re),m(et,8),m(Ye,8),m(G,8),m(gt,8),m(Ke,10),Pe("tabindex"),m(Jt),m(nt),m(Si,8))}}static{this.\u0275cmp=F({type:r,selectors:[["mat-select"]],contentQueries:function(t,i,a){if(t&1&&(W(a,Ii,5),W(a,Q,5),W(a,dt,5)),t&2){let d;E(d=T())&&(i.customTrigger=d.first),E(d=T())&&(i.options=d),E(d=T())&&(i.optionGroups=d)}},viewQuery:function(t,i){if(t&1&&(B(hi,5),B(fi,5),B(ge,5)),t&2){let a;E(a=T())&&(i.trigger=a.first),E(a=T())&&(i.panel=a.first),E(a=T())&&(i._overlayDir=a.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){t&1&&g("keydown",function(d){return i._handleKeydown(d)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),t&2&&(H("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),Le("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[y.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[y.HasDecoratorInputTransform,"disabled","disabled",D],disableRipple:[y.HasDecoratorInputTransform,"disableRipple","disableRipple",D],tabIndex:[y.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:le(e)],hideSingleSelectionIndicator:[y.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",D],placeholder:"placeholder",required:[y.HasDecoratorInputTransform,"required","required",D],multiple:[y.HasDecoratorInputTransform,"multiple","multiple",D],disableOptionCentering:[y.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",D],compareWith:"compareWith",value:"value",ariaLabel:[y.None,"aria-label","ariaLabel"],ariaLabelledby:[y.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[y.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",le],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[He([{provide:_t,useExisting:r},{provide:ct,useExisting:r}]),Ve,Fe,P],ngContentSelectors:gi,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(t,i){if(t&1){let a=k();Ne(_i),o(0,"div",2,0),g("click",function(){return f(a),_(i.open())}),o(3,"div",3),p(4,bi,2,1,"span",4)(5,yi,3,1),n(),o(6,"div",5)(7,"div",6),Ae(),o(8,"svg",7),w(9,"path",8),n()()()(),p(10,xi,3,9,"ng-template",9),g("backdropClick",function(){return f(a),_(i.close())})("attach",function(){return f(a),_(i._onAttached())})("detach",function(){return f(a),_(i.close())})}if(t&2){let a=ze(1);c(3),H("id",i._valueId),c(),ne(4,i.empty?4:5),c(6),u("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||a)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[_e,ge,q],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[wi.transformPanel]},changeDetection:0})}}return r})();var ti=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275mod=De({type:r})}static{this.\u0275inj=Ee({providers:[Oi],imports:[R,Nt,he,ue,kt,Y,he,ue]})}}return r})();var J=(()=>{class r{constructor(e,t,i){this.http=e,this.loaderService=t,this.alertService=i,this.apiUrl="https://encouraging-hedy-okbranding-4b2e5519.koyeb.app/okBranding/usuarios"}listarUsuarios(){return this.loaderService.show(),new V(e=>{this.http.get(`${this.apiUrl}/listar`).subscribe({next:t=>{this.loaderService.hide(),e.next(t),e.complete()},error:t=>{this.loaderService.hide(),this.alertService.error("Error al listar usuarios",t.message),e.error(t)}})})}registrarUsuario(e){return this.loaderService.show(),new V(t=>{this.http.post(`${this.apiUrl}/registrar`,e).subscribe({next:i=>{this.loaderService.hide(),this.alertService.success("Usuario registrado exitosamente"),t.next(i),t.complete()},error:i=>{this.loaderService.hide(),this.alertService.error("Error al registrar usuario",i.message),t.error(i)}})})}actualizarUsuario(e,t){return this.loaderService.show(),new V(i=>{this.http.put(`${this.apiUrl}/actualizar/${e}`,t).subscribe({next:a=>{this.loaderService.hide(),this.alertService.success("Usuario actualizado exitosamente"),i.next(a),i.complete()},error:a=>{this.loaderService.hide(),this.alertService.error("Error al actualizar usuario",a.message),i.error(a)}})})}eliminarUsuario(e){return this.loaderService.show(),this.http.delete(`${this.apiUrl}/eliminar/${e}`).pipe(Oe(()=>this.loaderService.hide()),Ie(()=>this.alertService.success("Usuario desactivado exitosamente")),we(t=>(this.alertService.error("Error al desactivar usuario",t.message),ye(()=>t))))}static{this.\u0275fac=function(t){return new(t||r)(N(qe),N(Mt),N(X))}}static{this.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Fi(r,l){r&1&&(o(0,"mat-error"),s(1," El nombre es obligatorio "),n())}function Ai(r,l){r&1&&(o(0,"mat-error"),s(1," El usuario es obligatorio "),n())}function Pi(r,l){if(r&1&&(o(0,"mat-form-field",2)(1,"mat-label"),s(2,"Usuario"),n(),w(3,"input",14),p(4,Ai,2,0,"mat-error",4),n()),r&2){let e,t=h();c(4),u("ngIf",((e=t.usuarioForm.get("username"))==null?null:e.invalid)&&((e=t.usuarioForm.get("username"))==null?null:e.touched))}}function Ri(r,l){r&1&&(o(0,"mat-error"),s(1," Ingrese un correo v\xE1lido "),n())}function Ui(r,l){r&1&&(o(0,"mat-error"),s(1," El tel\xE9fono es obligatorio "),n())}function Vi(r,l){if(r&1){let e=k();o(0,"mat-form-field",2)(1,"mat-label"),s(2,"Contrase\xF1a"),n(),o(3,"input",15),g("blur",function(){f(e);let i=h();return _(i.onBlurPassword())})("input",function(i){f(e);let a=h();return _(a.onPasswordChange(i))}),n(),o(4,"button",16),g("click",function(){f(e);let i=h();return _(i.togglePassword())}),o(5,"mat-icon"),s(6),n()()()}if(r&2){let e=h();c(3),u("type",e.mostrarPassword?"text":"password"),c(3),A(e.mostrarPassword?"visibility_off":"visibility")}}var ri=(()=>{class r{constructor(e,t,i,a){this.fb=e,this.usuarioService=t,this.dialogRef=i,this.data=a,this.esEdicion=!1,this.mostrarPassword=!1,this.passwordReal="",this.passwordOculta="\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF"}ngOnInit(){this.esEdicion=!!this.data,this.usuarioForm=this.fb.group({nombre:[this.data?.nombre||"",x.required],username:[this.esEdicion?"":this.data?.nombreUsuario||"",this.esEdicion?[]:[x.required]],correo:[this.data?.correo||"",[x.required,x.email]],telefono:[this.data?.telefono||"",[x.required,x.pattern("^[0-9]{10}$")]],password:[{value:this.esEdicion?"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF":"",disabled:this.esEdicion},this.esEdicion?[]:[x.required,x.minLength(8)]],estado:[this.data?.estado||"activo",x.required]})}onBlurPassword(){!this.mostrarPassword&&this.passwordReal&&this.usuarioForm.patchValue({password:this.passwordOculta})}onPasswordChange(e){this.passwordReal=e.target.value}togglePassword(){this.mostrarPassword=!this.mostrarPassword,this.usuarioForm.patchValue({password:this.mostrarPassword?this.passwordReal:this.passwordOculta})}onGuardar(){if(this.usuarioForm.valid){let e=this.usuarioForm.getRawValue();this.esEdicion?(delete e.username,delete e.password):e.password=this.passwordReal,e.activo=e.estado==="activo"?1:0,this.esEdicion?this.usuarioService.actualizarUsuario(this.data.idUsuario,e).subscribe({next:t=>{this.dialogRef.close(t)},error:t=>{console.error("Error al actualizar usuario:",t)}}):this.usuarioService.registrarUsuario(e).subscribe({next:t=>{this.dialogRef.close(t)},error:t=>{console.error("Error al registrar usuario:",t)}})}}onCancelar(){this.dialogRef.close()}static{this.\u0275fac=function(t){return new(t||r)(m(Ze),m(J),m(zt),m(Ht))}}static{this.\u0275cmp=F({type:r,selectors:[["app-usuario-form"]],standalone:!0,features:[P],decls:34,vars:9,consts:[["mat-dialog-title","",1,"titulo-dialog"],[1,"contenido-dialog",3,"formGroup"],["appearance","outline",1,"full-width","campo"],["matInput","","formControlName","nombre","placeholder","Ingrese el nombre"],[4,"ngIf"],["appearance","outline","class","full-width campo",4,"ngIf"],["matInput","","type","email","formControlName","correo","placeholder","Ingrese el correo"],["matInput","","type","tel","formControlName","telefono","placeholder","Ingrese el n\xFAmero de tel\xE9fono"],["formControlName","estado"],["value","activo"],["value","inactivo"],["align","end",1,"botones-dialog"],["mat-button","",1,"boton-cancelar",3,"click"],["mat-raised-button","","color","primary",1,"boton-guardar",3,"click","disabled"],["matInput","","formControlName","username","placeholder","Ingrese un nombre de usuario"],["matInput","","formControlName","password",3,"blur","input","type"],["mat-icon-button","","matSuffix","",3,"click"]],template:function(t,i){if(t&1&&(o(0,"div")(1,"h2",0),s(2),n()(),o(3,"mat-dialog-content",1)(4,"mat-form-field",2)(5,"mat-label"),s(6,"Nombre"),n(),w(7,"input",3),p(8,Fi,2,0,"mat-error",4),n(),p(9,Pi,5,1,"mat-form-field",5),o(10,"mat-form-field",2)(11,"mat-label"),s(12,"Email"),n(),w(13,"input",6),p(14,Ri,2,0,"mat-error",4),n(),o(15,"mat-form-field",2)(16,"mat-label"),s(17,"Tel\xE9fono"),n(),w(18,"input",7),p(19,Ui,2,0,"mat-error",4),n(),p(20,Vi,7,2,"mat-form-field",5),o(21,"mat-form-field",2)(22,"mat-label"),s(23,"Estado"),n(),o(24,"mat-select",8)(25,"mat-option",9),s(26,"Activo"),n(),o(27,"mat-option",10),s(28,"Inactivo"),n()()()(),o(29,"mat-dialog-actions",11)(30,"button",12),g("click",function(){return i.onCancelar()}),s(31,"Cancelar"),n(),o(32,"button",13),g("click",function(){return i.onGuardar()}),s(33),n()()),t&2){let a,d,b;c(2),A(i.esEdicion?"Editar Usuario":"Registrar Usuario"),c(),u("formGroup",i.usuarioForm),c(5),u("ngIf",((a=i.usuarioForm.get("nombre"))==null?null:a.invalid)&&((a=i.usuarioForm.get("nombre"))==null?null:a.touched)),c(),u("ngIf",!i.esEdicion),c(5),u("ngIf",((d=i.usuarioForm.get("correo"))==null?null:d.invalid)&&((d=i.usuarioForm.get("correo"))==null?null:d.touched)),c(5),u("ngIf",((b=i.usuarioForm.get("telefono"))==null?null:b.invalid)&&((b=i.usuarioForm.get("telefono"))==null?null:b.touched)),c(),u("ngIf",!i.esEdicion),c(12),u("disabled",i.usuarioForm.invalid),c(),M(" ",i.esEdicion?"Actualizar":"Guardar"," ")}},dependencies:[R,Be,Je,Ge,$e,Qe,G,Xe,Kt,Bt,Gt,qt,Y,bt,ut,ht,ft,Ct,vt,ti,ei,Q,wt,yt,xt,Z],styles:[".titulo-dialog[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;text-align:center;color:#1d3557}.contenido-dialog[_ngcontent-%COMP%]{padding:20px 10px}.campo[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.botones-dialog[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:16px;border-top:1px solid #ddd;gap:10px}.boton-cancelar[_ngcontent-%COMP%]{color:#757575;background:transparent;border:2px solid #757575;padding:8px 16px;font-weight:700;border-radius:8px;transition:all .3s ease-in-out}.boton-cancelar[_ngcontent-%COMP%]:hover{background:#f1f1f1;border-color:#333;color:#333}.boton-guardar[_ngcontent-%COMP%]{background-color:#1d3557;color:#fff;font-weight:700;padding:8px 16px;border-radius:8px;transition:all .3s ease-in-out;box-shadow:2px 2px 10px #00000026}.boton-guardar[_ngcontent-%COMP%]:hover{background-color:#0f2341;box-shadow:2px 2px 15px #0000004d}.boton-guardar[_ngcontent-%COMP%]:disabled{background-color:#b0bec5;color:#e0e0e0;box-shadow:none;cursor:not-allowed}"]})}}return r})();function Li(r,l){r&1&&(o(0,"th",14),s(1," Nombre "),n())}function ji(r,l){if(r&1&&(o(0,"td",15),s(1),n()),r&2){let e=l.$implicit;c(),M(" ",e.nombre," ")}}function Ni(r,l){r&1&&(o(0,"th",14),s(1," Email "),n())}function zi(r,l){if(r&1&&(o(0,"td",15),s(1),n()),r&2){let e=l.$implicit;c(),M(" ",e.correo," ")}}function Hi(r,l){r&1&&(o(0,"th",14),s(1," Tel\xE9fono "),n())}function Wi(r,l){if(r&1&&(o(0,"td",15),s(1),n()),r&2){let e=l.$implicit;c(),M(" ",e.telefono," ")}}function Bi(r,l){r&1&&(o(0,"th",14),s(1," Usuario "),n())}function qi(r,l){if(r&1&&(o(0,"td",15),s(1),n()),r&2){let e=l.$implicit;c(),M(" ",e.nombreUsuario," ")}}function Gi(r,l){r&1&&(o(0,"th",14),s(1," Estado "),n())}function Ki(r,l){if(r&1&&(o(0,"td",15)(1,"span",16),s(2),n()()),r&2){let e=l.$implicit,t=h();c(),u("ngClass",t.getEstadoClase(e.activo)),c(),M(" ",t.getEstadoClase(e.activo)==="activo"?"Activo":"Inactivo"," ")}}function $i(r,l){r&1&&(o(0,"th",14),s(1," Acciones "),n())}function Qi(r,l){if(r&1){let e=k();o(0,"td",15)(1,"button",17),g("click",function(){let i=f(e).$implicit,a=h();return _(a.abrirFormulario(i))}),o(2,"mat-icon"),s(3,"edit"),n()(),o(4,"button",18),g("click",function(){let i=f(e).$implicit,a=h();return _(a.eliminarUsuario(i.idUsuario))}),o(5,"mat-icon"),s(6,"delete"),n()()()}}function Yi(r,l){r&1&&w(0,"tr",19)}function Xi(r,l){r&1&&w(0,"tr",20)}var Jr=(()=>{class r{constructor(e,t,i){this.usuarioService=e,this.dialog=t,this.alertService=i,this.usuarios=[],this.displayedColumns=["nombre","correo","telefono","nombreUsuario","activo","acciones"]}ngOnInit(){this.obtenerUsuarios()}obtenerUsuarios(){this.usuarioService.listarUsuarios().subscribe({next:e=>this.usuarios=e})}abrirFormulario(e=null){this.dialog.open(ri,{width:"400px",data:e}).afterClosed().subscribe(i=>{i&&this.obtenerUsuarios()})}eliminarUsuario(e){if(!e){this.alertService.warning("ID de usuario no v\xE1lido","Advertencia");return}this.alertService.confirm("Esta acci\xF3n desactivar\xE1 el usuario","\xBFEst\xE1s seguro?","S\xED, desactivar","Cancelar").then(t=>{t&&this.usuarioService.eliminarUsuario(e).subscribe(()=>{this.alertService.success("El usuario ha sido desactivado con \xE9xito"),this.obtenerUsuarios()},()=>{this.alertService.error("No se pudo desactivar el usuario")})})}getEstadoClase(e){return e==1||e===!0?"activo":"inactivo"}static{this.\u0275fac=function(t){return new(t||r)(m(J),m(Wt),m(X))}}static{this.\u0275cmp=F({type:r,selectors:[["app-usuarios"]],standalone:!0,features:[P],decls:27,vars:3,consts:[[1,"usuarios-container"],[1,"usuarios-header"],[1,"boton-profesional",3,"click"],["mat-table","",1,"mat-elevation-z8","usuarios-tabla",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","correo"],["matColumnDef","telefono"],["matColumnDef","nombreUsuario"],["matColumnDef","activo"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"ngClass"],["aria-label","Editar usuario",1,"accion-boton","boton-editar",3,"click"],["aria-label","Eliminar Usuario",1,"accion-boton","boton-eliminar",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Gesti\xF3n de Usuarios"),n(),o(4,"button",2),g("click",function(){return i.abrirFormulario()}),s(5,"Nuevo Usuario"),n()(),o(6,"table",3),O(7,4),p(8,Li,2,0,"th",5)(9,ji,2,1,"td",6),I(),O(10,7),p(11,Ni,2,0,"th",5)(12,zi,2,1,"td",6),I(),O(13,8),p(14,Hi,2,0,"th",5)(15,Wi,2,1,"td",6),I(),O(16,9),p(17,Bi,2,0,"th",5)(18,qi,2,1,"td",6),I(),O(19,10),p(20,Gi,2,0,"th",5)(21,Ki,3,2,"td",6),I(),O(22,11),p(23,$i,2,0,"th",5)(24,Qi,7,0,"td",6),I(),p(25,Yi,1,0,"tr",12)(26,Xi,1,0,"tr",13),n()()),t&2&&(c(6),u("dataSource",i.usuarios),c(19),u("matHeaderRowDef",i.displayedColumns),c(),u("matRowDefColumns",i.displayedColumns))},dependencies:[St,Z,jt,Et,Dt,Rt,Ft,Tt,Ut,At,Pt,Vt,Lt,R,q],styles:["body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-color:#f4f4f9}.usuarios-container[_ngcontent-%COMP%]{overflow-x:auto;width:85%;margin:5px auto;background:#fff;padding:5px;border-radius:12px;box-shadow:0 6px 15px #0000001a}.usuarios-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#1d3557;padding:18px;border-radius:10px;color:#fff;margin-bottom:10px}.usuarios-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.boton-profesional[_ngcontent-%COMP%]{background:#e63946;color:#fff;font-size:16px;font-weight:700;border:none;padding:12px 20px;border-radius:8px;cursor:pointer;transition:all .3s ease-in-out}.boton-profesional[_ngcontent-%COMP%]:hover{background:#d62839;box-shadow:0 4px 12px #e639464d;transform:translateY(-2px)}.usuarios-tabla[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden}.usuarios-tabla[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#1d3557;color:#fff;font-weight:700;padding:12px;text-align:left;font-size:14px}.usuarios-tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px;font-size:14px;border-bottom:1px solid #ddd}.usuarios-tabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f1f1f1}.usuarios-tabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#1d35571a}.activo[_ngcontent-%COMP%]{color:#2a9d8f;font-weight:700}.inactivo[_ngcontent-%COMP%]{color:#e63946;font-weight:700}.accion-boton[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:38px;height:38px;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease-in-out;margin-right:10px}.boton-editar[_ngcontent-%COMP%]{background:#2a9d8f;color:#fff}.boton-editar[_ngcontent-%COMP%]:hover{background:#21867a;box-shadow:0 4px 10px #2a9d8f4d}.boton-eliminar[_ngcontent-%COMP%]{background:#e63946;color:#fff}.boton-eliminar[_ngcontent-%COMP%]:hover{background:#d62839;box-shadow:0 4px 10px #e639464d}.accion-boton[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}"]})}}return r})();export{Jr as UsuariosComponent};

import{a as rt}from"./chunk-E4PSESS4.js";import{a as Q,b as U,c as X,d as Y,e as Z,f as tt,g as et,h as ot,i as nt,j as at,k as it}from"./chunk-CIVZCN4S.js";import"./chunk-VW7NPXUO.js";import{a as A,f as G,h as W,i as q}from"./chunk-DHEV5CHZ.js";import{a as J,b as K}from"./chunk-A34N6AUK.js";import"./chunk-Q64FFBLU.js";import{O as L,P as j,Q as $}from"./chunk-5ZSIRHXU.js";import{a as O,d as I,e as V,f as R,g as N,h as H,n as z,q as B}from"./chunk-YFY2E5R4.js";import"./chunk-AK6URBU6.js";import{m as k,q as T}from"./chunk-BZWQZBMF.js";import{Ab as g,Cb as h,Hb as u,Jb as _,Tb as i,Ub as w,Vb as S,Wb as F,Xb as v,Ya as r,Yb as y,Za as P,_b as D,a as M,ka as x,ob as l,qb as c,ua as p,va as f,wb as n,xb as a,yb as E,zb as C}from"./chunk-P5NMP2U3.js";function dt(t,d){if(t&1){let e=h();n(0,"button",14),u("click",function(){p(e);let o=_();return f(o.resetFormulario())}),i(1,"Cancelar"),a()}}function st(t,d){t&1&&(n(0,"th",15),i(1,"Nombre"),a())}function mt(t,d){if(t&1&&(n(0,"td",16),i(1),a()),t&2){let e=d.$implicit;r(),w(e.nombreEstado)}}function lt(t,d){t&1&&(n(0,"th",15),i(1,"Acciones"),a())}function ct(t,d){if(t&1){let e=h();n(0,"td",16)(1,"button",17),u("click",function(){let o=p(e).$implicit,m=_();return f(m.editarEstado(o))}),n(2,"mat-icon"),i(3,"edit"),a()(),n(4,"button",18),u("click",function(){let o=p(e).$implicit,m=_();return f(m.eliminarEstado(o.idEstadoProducto))}),n(5,"mat-icon"),i(6,"delete"),a()()()}}function ut(t,d){t&1&&E(0,"tr",19)}function pt(t,d){t&1&&E(0,"tr",20)}var Dt=(()=>{class t{constructor(e){this.estadoService=e,this.estados=[],this.estadoForm={idEstadoProducto:null,nombreEstado:""},this.displayedColumns=["nombreEstado","acciones"]}ngOnInit(){this.obtenerEstados()}obtenerEstados(){this.estadoService.listarEstados().subscribe({next:e=>this.estados=e})}guardarEstado(){this.estadoForm.nombreEstado.trim()&&(this.estadoForm.idEstadoProducto?this.estadoService.actualizarEstado(this.estadoForm).subscribe(()=>{this.obtenerEstados(),this.resetFormulario()}):this.estadoService.registrarEstado(this.estadoForm).subscribe(()=>{this.obtenerEstados(),this.resetFormulario()}))}editarEstado(e){this.estadoForm=M({},e)}eliminarEstado(e){this.estadoService.eliminarEstado(e).subscribe(()=>this.obtenerEstados())}resetFormulario(){this.estadoForm={idEstadoProducto:null,nombreEstado:""}}static{this.\u0275fac=function(s){return new(s||t)(P(rt))}}static{this.\u0275cmp=x({type:t,selectors:[["app-estado-producto"]],standalone:!0,features:[D],decls:21,vars:6,consts:[[1,"estado-container"],[1,"estado-header"],[1,"formulario",3,"ngSubmit"],["appearance","outline"],["matInput","","name","nombreEstado","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"],["mat-button","","type","button",3,"click",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","estado-tabla",3,"dataSource"],["matColumnDef","nombreEstado"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-button","","type","button",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(s,o){s&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Gesti\xF3n de Estado de Productos"),a()(),n(4,"form",2),u("ngSubmit",function(){return o.guardarEstado()}),n(5,"mat-form-field",3)(6,"mat-label"),i(7,"Nombre del Estado"),a(),n(8,"input",4),y("ngModelChange",function(b){return v(o.estadoForm.nombreEstado,b)||(o.estadoForm.nombreEstado=b),b}),a()(),n(9,"button",5),i(10),a(),l(11,dt,2,0,"button",6),a(),n(12,"table",7),C(13,8),l(14,st,2,0,"th",9)(15,mt,2,1,"td",10),g(),C(16,11),l(17,lt,2,0,"th",9)(18,ct,7,0,"td",10),g(),l(19,ut,1,0,"tr",12)(20,pt,1,0,"tr",13),a()()),s&2&&(r(8),F("ngModel",o.estadoForm.nombreEstado),r(2),S(" ",o.estadoForm.idEstadoProducto?"Actualizar":"Guardar"," "),r(),c("ngIf",o.estadoForm.idEstadoProducto),r(),c("dataSource",o.estados),r(7),c("matHeaderRowDef",o.displayedColumns),r(),c("matRowDefColumns",o.displayedColumns))},dependencies:[T,k,B,H,O,I,V,z,N,R,it,Q,X,et,Y,U,ot,Z,tt,nt,at,K,J,q,W,G,A,$,L,j],styles:[".estado-container[_ngcontent-%COMP%]{width:85%;margin:20px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 6px 15px #0000001a}.estado-header[_ngcontent-%COMP%]{background:#1d3557;color:#fff;padding:18px;border-radius:10px;margin-bottom:20px}.formulario[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px}mat-form-field[_ngcontent-%COMP%]{flex:1}.estado-tabla[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:8px;overflow:hidden}.estado-tabla[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#1d3557;color:#fff;font-weight:700;padding:12px}.estado-tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;font-size:14px}.estado-tabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f1f1f1}.estado-tabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#1d35571a}"]})}}return t})();export{Dt as EstadoProductoComponent};

import{a as xo}from"./chunk-WIAQBLJL.js";import{e as fo,f as uo,g as Co,h as go,i as _o,j as bo,k as E}from"./chunk-OE5KNDKJ.js";import{a as eo,b as to,c as no,d as ro,e as io,f as lo,g as ao,h as co,i as mo,j as po,k as so}from"./chunk-CIVZCN4S.js";import"./chunk-VW7NPXUO.js";import{a as Y,b as J,f as K,g as Q,h as U,i as W}from"./chunk-DHEV5CHZ.js";import{a as Z,b as oo}from"./chunk-A34N6AUK.js";import"./chunk-Q64FFBLU.js";import{O as X,Q as O}from"./chunk-5ZSIRHXU.js";import{a as z,b as x,d as A,e as G,h as H,i as $,j as B,o as q,p as L,r as P}from"./chunk-YFY2E5R4.js";import"./chunk-AK6URBU6.js";import{m as j,q as w}from"./chunk-BZWQZBMF.js";import{Ab as g,Cb as N,Hb as u,Jb as b,Tb as i,Ub as V,Vb as _,Ya as a,Za as f,_b as v,a as I,b as R,ka as h,ob as d,qb as m,rb as M,ua as S,va as F,wb as r,xb as n,yb as s,zb as C}from"./chunk-P5NMP2U3.js";function wo(o,l){o&1&&(r(0,"mat-error"),i(1," El c\xF3digo de color es obligatorio "),n())}function Po(o,l){o&1&&(r(0,"mat-error"),i(1," Debe ser un c\xF3digo hexadecimal v\xE1lido (ej: #ffffff) "),n())}function Oo(o,l){o&1&&(r(0,"mat-error"),i(1," El nombre del color es obligatorio "),n())}function Eo(o,l){o&1&&(r(0,"mat-error"),i(1," El nombre no puede exceder 50 caracteres "),n())}function So(o,l){if(o&1&&(r(0,"div",11)(1,"label"),i(2,"Vista previa:"),n(),s(3,"div",12),n()),o&2){let e,c=b();a(3),M("background-color",(e=c.colorForm.get("codigoColor"))==null?null:e.value)}}var ho=(()=>{class o{constructor(e,c,t){this.fb=e,this.dialogRef=c,this.data=t,this.isEditMode=!!t.color,this.colorForm=this.fb.group({codigoColor:[t.color?.codigoColor||"",[x.required,x.pattern(/^#[0-9A-Fa-f]{6}$/)]],nombreColor:[t.color?.nombreColor||"",[x.required,x.maxLength(50)]]})}onSubmit(){if(this.colorForm.valid){let e=R(I({},this.colorForm.value),{idColor:this.data.color?.idColor||null});this.dialogRef.close(e)}}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(c){return new(c||o)(f(L),f(fo),f(uo))}}static{this.\u0275cmp=h({type:o,selectors:[["app-color-form"]],standalone:!0,features:[v],decls:23,vars:9,consts:[[1,"dialog-container"],["mat-dialog-title",""],[1,"color-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","codigoColor","placeholder","#ffffff","maxlength","7"],[4,"ngIf"],["matInput","","formControlName","nombreColor","placeholder","Nombre del color","maxlength","50"],["class","color-preview-container",4,"ngIf"],["align","end"],["mat-button","","type","button",3,"click"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],[1,"color-preview-container"],[1,"color-preview-large"]],template:function(c,t){if(c&1&&(r(0,"div",0)(1,"h2",1),i(2),n(),r(3,"form",2),u("ngSubmit",function(){return t.onSubmit()}),r(4,"mat-dialog-content")(5,"mat-form-field",3)(6,"mat-label"),i(7,"C\xF3digo de color (hex)"),n(),s(8,"input",4),d(9,wo,2,0,"mat-error",5)(10,Po,2,0,"mat-error",5),n(),r(11,"mat-form-field",3)(12,"mat-label"),i(13,"Nombre del color"),n(),s(14,"input",6),d(15,Oo,2,0,"mat-error",5)(16,Eo,2,0,"mat-error",5),n(),d(17,So,4,2,"div",7),n(),r(18,"mat-dialog-actions",8)(19,"button",9),u("click",function(){return t.onCancel()}),i(20,"Cancelar"),n(),r(21,"button",10),i(22),n()()()()),c&2){let p,y,D,k,T;a(2),V(t.isEditMode?"Editar Color":"Nuevo Color"),a(),m("formGroup",t.colorForm),a(6),m("ngIf",(p=t.colorForm.get("codigoColor"))==null?null:p.hasError("required")),a(),m("ngIf",(y=t.colorForm.get("codigoColor"))==null?null:y.hasError("pattern")),a(5),m("ngIf",(D=t.colorForm.get("nombreColor"))==null?null:D.hasError("required")),a(),m("ngIf",(k=t.colorForm.get("nombreColor"))==null?null:k.hasError("maxlength")),a(),m("ngIf",(T=t.colorForm.get("codigoColor"))==null?null:T.value),a(4),m("disabled",t.colorForm.invalid),a(),_(" ",t.isEditMode?"Actualizar":"Guardar"," ")}},dependencies:[w,j,P,H,z,A,G,q,$,B,E,go,bo,_o,Q,K,Y,J,W,U,O,X],styles:[".dialog-container[_ngcontent-%COMP%]{width:400px;max-width:90vw}.color-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.color-preview-container[_ngcontent-%COMP%]{margin:16px 0;text-align:center}.color-preview-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#495057}.color-preview-large[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:3px solid #333;margin:0 auto;box-shadow:0 4px 8px #0003}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 0;gap:8px}mat-dialog-title[_ngcontent-%COMP%]{color:#1d3557;font-weight:600;margin-bottom:16px}"]})}}return o})();function Fo(o,l){o&1&&(r(0,"th",13),i(1," ID "),n())}function yo(o,l){if(o&1&&(r(0,"td",14),i(1),n()),o&2){let e=l.$implicit;a(),_(" ",e.idColor," ")}}function Do(o,l){o&1&&(r(0,"th",13),i(1," C\xF3digo "),n())}function ko(o,l){if(o&1&&(r(0,"td",14),i(1),n()),o&2){let e=l.$implicit;a(),_(" ",e.codigoColor," ")}}function To(o,l){o&1&&(r(0,"th",13),i(1," Nombre "),n())}function Io(o,l){if(o&1&&(r(0,"td",14),i(1),n()),o&2){let e=l.$implicit;a(),_(" ",e.nombreColor," ")}}function Ro(o,l){o&1&&(r(0,"th",13),i(1," Vista "),n())}function No(o,l){if(o&1&&(r(0,"td",14),s(1,"div",15),n()),o&2){let e=l.$implicit;a(),M("background-color",e.codigoColor)}}function Vo(o,l){o&1&&(r(0,"th",13),i(1," Acciones "),n())}function jo(o,l){if(o&1){let e=N();r(0,"td",14)(1,"button",16),u("click",function(){let t=S(e).$implicit,p=b();return F(p.editarColor(t))}),r(2,"mat-icon"),i(3,"edit"),n()(),r(4,"button",17),u("click",function(){let t=S(e).$implicit,p=b();return F(p.eliminarColor(t.idColor))}),r(5,"mat-icon"),i(6,"delete"),n()()()}}function zo(o,l){o&1&&s(0,"tr",18)}function Ao(o,l){o&1&&s(0,"tr",19)}var me=(()=>{class o{constructor(e,c){this.colorService=e,this.dialog=c,this.colores=[],this.displayedColumns=["idColor","codigoColor","nombreColor","vista","acciones"]}ngOnInit(){this.listarColores()}listarColores(){this.colorService.listarColores().subscribe(e=>this.colores=e,e=>console.error("Error al cargar colores:",e))}abrirFormulario(e=null){this.dialog.open(ho,{width:"450px",data:{color:e}}).afterClosed().subscribe(t=>{t&&(t.idColor?this.colorService.actualizarColor(t.idColor,t).subscribe(()=>{this.listarColores()}):this.colorService.registrarColor(t).subscribe(()=>{this.listarColores()}))})}editarColor(e){this.abrirFormulario(e)}eliminarColor(e){confirm("\xBFEst\xE1s seguro de eliminar este color?")&&this.colorService.eliminarColor(e).subscribe(()=>{this.listarColores()})}static{this.\u0275fac=function(c){return new(c||o)(f(xo),f(Co))}}static{this.\u0275cmp=h({type:o,selectors:[["app-color"]],standalone:!0,features:[v],decls:24,vars:3,consts:[[1,"colores-container"],[1,"colores-header"],[1,"boton-profesional",3,"click"],["mat-table","",1,"mat-elevation-z8","colores-tabla",3,"dataSource"],["matColumnDef","idColor"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","codigoColor"],["matColumnDef","nombreColor"],["matColumnDef","vista"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"color-preview"],["aria-label","Editar color",1,"accion-boton","boton-editar",3,"click"],["aria-label","Eliminar color",1,"accion-boton","boton-eliminar",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(c,t){c&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Gesti\xF3n de Colores"),n(),r(4,"button",2),u("click",function(){return t.abrirFormulario()}),i(5,"Nuevo Color"),n()(),r(6,"table",3),C(7,4),d(8,Fo,2,0,"th",5)(9,yo,2,1,"td",6),g(),C(10,7),d(11,Do,2,0,"th",5)(12,ko,2,1,"td",6),g(),C(13,8),d(14,To,2,0,"th",5)(15,Io,2,1,"td",6),g(),C(16,9),d(17,Ro,2,0,"th",5)(18,No,2,2,"td",6),g(),C(19,10),d(20,Vo,2,0,"th",5)(21,jo,7,0,"td",6),g(),d(22,zo,1,0,"tr",11)(23,Ao,1,0,"tr",12),n()()),c&2&&(a(6),m("dataSource",t.colores),a(16),m("matHeaderRowDef",t.displayedColumns),a(),m("matRowDefColumns",t.displayedColumns))},dependencies:[w,P,so,eo,no,ao,ro,to,co,io,lo,mo,po,O,oo,Z,E],styles:["DocumentsokBrandingProyect\\rontend-okbrandingsrc\\app\\adminpages\\colores\\colores.component.css[_ngcontent-%COMP%]   .colores-container[_ngcontent-%COMP%]{overflow-x:auto;width:85%;margin:5px auto;background:#fff;padding:5px;border-radius:12px;box-shadow:0 6px 15px #0000001a}.colores-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#1d3557;padding:18px;border-radius:10px;color:#fff;margin-bottom:10px}.colores-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8rem;font-weight:600}.boton-profesional[_ngcontent-%COMP%]{background:#e63946;color:#fff;font-size:16px;font-weight:700;border:none;padding:12px 20px;border-radius:8px;cursor:pointer;transition:all .3s ease-in-out}.boton-profesional[_ngcontent-%COMP%]:hover{background:#d62839;box-shadow:0 4px 12px #e639464d;transform:translateY(-2px)}.boton-profesional[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;transform:none}.formulario-colores[_ngcontent-%COMP%]{margin:20px 0;padding:20px;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.formulario-inline[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap}.campo-color[_ngcontent-%COMP%]{flex:1;min-width:200px}.campo-color[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#495057}.campo-color[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ced4da;border-radius:6px;font-size:14px;transition:border-color .3s ease}.campo-color[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1d3557;box-shadow:0 0 0 .2rem #1d355740}.boton-guardar[_ngcontent-%COMP%]{height:56px;font-weight:700;padding:0 24px}.boton-cancelar[_ngcontent-%COMP%]{height:56px;background:#6c757d;color:#fff;border:none;padding:0 24px;border-radius:8px;cursor:pointer;font-weight:700;transition:all .3s ease-in-out}.boton-cancelar[_ngcontent-%COMP%]:hover{background:#5a6268}.colores-tabla[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#fff;border-radius:8px;overflow:hidden}.colores-tabla[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#1d3557;color:#fff;font-weight:700;padding:12px;text-align:center;font-size:14px}.colores-tabla[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px;font-size:14px;border-bottom:1px solid #ddd;text-align:center}.colores-tabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f1f1f1}.colores-tabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#1d35571a}.color-preview[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid #333;display:inline-block;box-shadow:0 2px 4px #0003}.accion-boton[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:38px;height:38px;border-radius:8px;border:none;cursor:pointer;transition:all .3s ease-in-out;margin-right:10px}.boton-editar[_ngcontent-%COMP%]{background:#2a9d8f;color:#fff}.boton-editar[_ngcontent-%COMP%]:hover{background:#21867a;box-shadow:0 4px 10px #2a9d8f4d}.boton-eliminar[_ngcontent-%COMP%]{background:#e63946;color:#fff}.boton-eliminar[_ngcontent-%COMP%]:hover{background:#d62839;box-shadow:0 4px 10px #e639464d}.accion-boton[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}@media (max-width: 768px){.formulario-inline[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.campo-color[_ngcontent-%COMP%]{min-width:100%}.colores-container[_ngcontent-%COMP%]{width:95%;margin:2px auto}}"]})}}return o})();export{me as ColorComponent};

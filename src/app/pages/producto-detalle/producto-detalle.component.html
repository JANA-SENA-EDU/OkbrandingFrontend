<div class="producto-detalle-page" *ngIf="producto">
  <section class="detalle-banner">
    <button class="banner-back" type="button" (click)="goBack()">
      <span aria-hidden="true">←</span>
      <span>Volver</span>
    </button>
    <p class="eyebrow" *ngIf="producto.categoria?.nombreCategoria">
      {{ producto.categoria.nombreCategoria }}
    </p>
    <h1>{{ producto.nombre }}</h1>
    <p class="banner-copy" *ngIf="producto.descripcion">
      {{ producto.descripcion }}
    </p>
  </section>

  <div class="producto-detalle-card">
    <div class="producto-detalle-left">
      <div class="producto-detalle-imagen-principal">
        <button
          type="button"
          class="img-nav img-nav-prev"
          (click)="prevImagen()"
          *ngIf="producto.imagenes?.length > 1"
        >
          ‹
        </button>

        <img
          *ngIf="imagenSeleccionada"
          [src]="imagenSeleccionada"
          [alt]="producto.nombre"
        />

        <button
          type="button"
          class="img-nav img-nav-next"
          (click)="nextImagen()"
          *ngIf="producto.imagenes?.length > 1"
        >
          ›
        </button>
      </div>

      <div *ngIf="producto.imagenes?.length > 1">
        <div class="producto-detalle-thumbs">
          <button
            type="button"
            class="thumb-btn"
            *ngFor="let img of producto.imagenes; index as i"
            [class.activa]="i === selectedImagenIndex"
            (click)="selectImagen(i)"
          >
            <img [src]="img.urlImagen" [alt]="producto.nombre + ' ' + (i + 1)" />
          </button>
        </div>
      </div>
    </div>

    <div class="producto-detalle-right">
      <div class="producto-detalle-header">
        <h2 class="producto-detalle-nombre">
          {{ producto.nombre }}
        </h2>
        <p class="producto-detalle-dimensiones" *ngIf="producto.dimensiones">
          {{ producto.dimensiones }}
        </p>
      </div>

      <div class="producto-detalle-precio" *ngIf="producto.precio">
        <span class="precio-label">Desde</span>
        <span class="precio-valor">{{ producto.precio | currency : 'COP' : 'symbol-narrow' }}</span>
      </div>

      <div class="producto-detalle-info">
        <div class="detalle-item" *ngIf="producto.descripcion">
          <span class="detalle-label">Descripción</span>
          <p>{{ producto.descripcion }}</p>
        </div>
        <div class="detalle-item" *ngIf="producto.colores?.length">
          <span class="detalle-label">Colores disponibles</span>
          <div class="colores-lista">
            <span
              *ngFor="let color of producto.colores"
              class="color-box"
              [style.backgroundColor]="color.codigoColor"
              [title]="color.nombreColor"
            ></span>
          </div>
        </div>
      </div>

      <div class="producto-detalle-acciones">
        <button class="btn-outline" type="button" (click)="goBack()">Volver</button>
        <button class="btn-primary" type="button" (click)="cotizar()">
          Cotizar este producto
        </button>
      </div>
    </div>
  </div>
</div>
